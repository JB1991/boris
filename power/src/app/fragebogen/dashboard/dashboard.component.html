<!-- dashboard page -->
<main class="mainpage p-1 p-lg-3" id="content" tabindex="-1">
  <!-- forms list -->
  <div class="card bg-light">
    <div class="card-header h5">
      <i class="fas fa-list fa-fw" aria-hidden="true"></i>
      Formulare
    </div>
    <div class="card-body table-responsive p-0">
      <table class="table table-hover m-0">
        <thead>
        <tr>
          <th scope="col" class="border-top-0 w-75">Titel</th>
          <th scope="col" class="border-top-0">Erstellt</th>
          <th scope="col" class="border-top-0">Aktualisiert</th>
          <th scope="col" class="border-top-0"></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let form of storage.formsList; index as i">
          <td scope="row">
            <a title="Formular öffnen" [routerLink]="['/forms/details', form.id]">
              {{ form.title }}
            </a>
          </td>
          <td>{{ form.created | date:'dd.MM.yyyy HH:mm' }}</td>
          <td>{{ form.updated | date:'dd.MM.yyyy HH:mm' }}</td>
          <td>
            <button type="button" class="btn btn-success btn-sm mr-2" id="button-export" title="Formular exportieren"
                    (click)="exportForm(i)">
              <i class="far fa-save fa-fw" aria-hidden="true"></i>
              Export
            </button>
            <button type="button" class="btn btn-danger btn-sm" id="button-delete" title="Formular löschen"
                    (click)="deleteForm(i)">
              <i class="fa fa-trash fa-fw" aria-hidden="true"></i>
              Löschen
            </button>
          </td>
        </tr>
        </tbody>
      </table>
      <span class="m-3" *ngIf="!storage.formsList.length">Keine Formulare gefunden</span>
    </div>
    <div class="card-footer">
      <button type="button"
              class="btn btn-success btn-sm mr-2"
              title="Neues Formular erstellen"
              (click)="newform.open()">
        <i class="fas fa-plus fa-fw" aria-hidden="true"></i>
        Neues Formular
      </button>
      <button type="button"
              class="btn btn-primary btn-sm"
              id="button-import"
              title="Formular importieren"
              (click)="importForm()">
        <i class="fas fa-upload fa-fw" aria-hidden="true"></i>
        Import
      </button>
    </div>
  </div>
</main>

<power-formulars-dashboard-newform #newform></power-formulars-dashboard-newform>